function CastPlayerConfig(){const e=cast.framework.RemotePlayerEventType,s=(e,t,a)=>{const l=document.createElement(e);return t&&a&&l.setAttribute(t,a),l},o=(e,t)=>{const a=document.querySelector(t);a&&(a.style.display=e)},r=()=>{const e=document.querySelector(".cast-play-pause"),t=document.querySelector(".cast-play-pause-button");e&&e.setAttribute("class",`cast-play-pause ${castPlayer.isPaused?"playkit-icon-play":"playkit-icon-pause"}`),t&&(castPlayer.isPaused?t.classList.remove("playkit-is-playing"):t.classList.add("playkit-is-playing"))},n=()=>{const e=document.querySelector(".playkit-playback-controls");var t=document.querySelector(".cast-play-pause-button-container");e&&t&&(e.removeChild(t),o("inline-block",".PlayPause-control"))};const t=(e={})=>32===e.keyCode&&ztvlib.isCastOnline&&kalturaPlayer.pause(),a=e=>{let t;if(e)switch(t="playerState"===e.field?e.value:e.field,t=t&&t.replace(/\s/g,"").toLowerCase(),t){case"paused":case"playing":r();break;case"buffering":break;case"ismuted":kalturaPlayer.muted=castPlayer.isMuted;break;case"volumelevel":kalturaPlayer.volume=Number(e.value);break;case"currenttime":0<e.value&&(window.kalturaPlayer.currentTime=e.value)}};return{loadMediaSuccess:()=>{ztvlib.isCastOnline=!0,playerRemoteController.addEventListener(e.ANY_CHANGE,a),playerRemoteController.addEventListener(e.IS_CONNECTED_CHANGED,ztvlib.castPlayerConfig.disableCastMode),kalturaPlayer.addEventListener(kalturaPlayer.Event.Core.VOLUME_CHANGE,()=>castPlayer.volumeLevel=kalturaPlayer.volume),document.addEventListener("keydown",t),uiManager.fillColorToCastIcon()},loadMediaFail:e=>{kalturaPlayer.paused&&kalturaPlayer.play(),ztvlib.eventmanager.setCastDuration(!1),console.log(`Error: " ${e} `)},getChromecastCustomData:()=>{var e=videoPlayback.getSinglePlayDetails().assetDetails&&videoPlayback.getSinglePlayDetails().assetDetails.asset_subtype,t=(videoPlayback.getSinglePlayDetails().entitlement.isTrailer?videoPlayback.getSinglePlayDetails().assetDetails:videoPlayback.getVodDetails()).id;const a=ztvlib.getPlayerConfig();var l="trailer"===e||"promo"===e||"preview"===e,s=!l&&0<=window.location.pathname.indexOf("/latest1"),o=!l&&!s&&0<=window.location.pathname.indexOf("/latest");const r={id:t,isChannel:0<=window.location.pathname.indexOf("/live-tv"),isLatestRoute:o,isLatest1Route:s,translation:ztvlib.getDisplayLanguage(),languages:ztvlib.getUserContentLanguage()};(s||o)&&(r.id=ztvlib.getPlayerJson()&&ztvlib.getPlayerJson().contentDetail&&ztvlib.getPlayerJson().contentDetail.tvshow),"1"===r.id.split("-")[1]&&(d=ztvlib.getPlayerJson()&&ztvlib.getPlayerJson().contentDetail&&ztvlib.getPlayerJson().contentDetail.tvshow,r.showId=d,r.isEpisodeConsumptionPage=!0);var n=a.generateSinglePlayApi(r),{age:i,user:c}=ztvlib.getPlayerJson().userData,{carousalId:u,carouselName:y,horizontalIndex:e,verticalIndex:l,tabName:t,topCategory:s,source:o,pageName:d}=ztvlib.getPlayerJson().mixpanelDetail;const p={spApiContentUrl:n,xAccessToken:ztvlib.getPlayerJson().xAccessToken,age:i,gender:c.gender,userId:ztvlib.getUserId(),userType:ztvlib.getPlayerJson().userType,carousalId:u,carouselName:y,horizontalIndex:e,verticalIndex:l,isAutoplay:ztvlib.isAutoPlay,isRecommended:ztvlib.isRecommended,tabName:t,topCategory:s,source:o,partnerSource:sessionStorage.getItem("partner_source"),playerVersion:ztvlib.getPlayerConfig().kalturaPlayerVersion,pageName:d};return"guest"===ztvlib.getPlayerJson().userType?p.guestToken=ztvlib.getPlayerJson().guestToken:p.authorization=`bearer ${ztvlib.getPlayerJson().token}`,p.activeSubtitle=(()=>{let e=kalturaPlayer.getActiveTracks().text&&kalturaPlayer.getActiveTracks().text.language||"";return"off"===e.toLowerCase()&&(e=null),e})(),ztvlib.isAutoPlay=!1,p},enableCastMode:()=>{ztvlib.eventmanager.destroyCBPlugin(),o("none",".playkit-engine"),(()=>{const e=document.querySelector("#player-placeholder .playkit-poster");var t;e&&(t=ztvlib.getPlayerJson().posterImage,e.style.cssText=`background: url('${t}') center/100% 100% no-repeat !important;`,e.style.opacity="0.8",e.setAttribute("data-posterset",!0),e.setAttribute("class","cast playkit-poster"));const a=document.querySelector(".cast.playkit-poster");a&&(a.style.display="block")})(),(()=>{document.querySelector(".cast-play-pause-button-container")&&n();const e=document.querySelector(".playkit-playback-controls"),t=s("div","class","cast-play-pause-button-container playkit-control-button-container playkit-control-play-pause"),a=s("button","class","cast-play-pause-button playkit-control-button"),l=s("i","class","cast-play-pause playkit-icon-play");l.addEventListener("click",()=>{playerRemoteController.playOrPause(),console.log("cast player",castPlayer.isPaused),ztvlib.eventmanager.getAnalyticEngine().ReportEvent(castPlayer.isPaused?"playkit-ui-userclickedpause":"playkit-ui-userclickedplay"),r()}),a.appendChild(l),t.appendChild(a),e&&(e.appendChild(t),o("none",".PlayPause-control"))})(),o("none",".playkit-subtitles")},disableCastMode:()=>{window.castPlayer.isConnected?console.log("Cast Player connected"):(ztvlib.eventmanager.setCastDuration(!1),console.log("Cast Player disconnected"),playerRemoteController.removeEventListener(e.ANY_CHANGE,a),playerRemoteController.removeEventListener(e.IS_CONNECTED_CHANGED,ztvlib.castPlayerConfig.disableCastMode),kalturaPlayer.removeEventListener(kalturaPlayer.Event.Core.VOLUME_CHANGE,()=>castPlayer.volumeLevel=kalturaPlayer.volume),document.removeEventListener("keydown",t),ztvlib.castPlayerConfig.stopCasting(),o("block",".playkit-engine"),o("block",".playkit-subtitles"),(()=>{const e=document.querySelector(".playkit-poster");e&&(e.setAttribute("class","playkit-poster"),e.style="display:none")})(),n(),kalturaPlayer.paused&&kalturaPlayer.src&&kalturaPlayer.play())},textTrackChanged:({label:e=""})=>{const t=castPlayer&&castPlayer.mediaInfo&&castPlayer.mediaInfo.tracks,l=e.toLowerCase();let a=[];"off"===l||(o=t.find(({language:e="",type:t="",trackId:a})=>e.toLowerCase().includes(`${l}`)&&t.toLowerCase().includes("text")&&a))&&o.trackId&&a.push(o.trackId);const s=cast.framework.CastContext.getInstance().getCurrentSession().getMediaSession();var o=new chrome.cast.media.EditTracksInfoRequest(a);s.editTracksInfo(o,()=>console.log("Text track changed"),()=>console.log("Failed to change text track"))},stopCasting:()=>{var e=cast.framework.CastContext.getInstance().getCurrentSession();ztvlib.isCastOnline=!1,ztvlib.eventmanager.handleCBplugin(),e&&e.endSession(!0)}}}